const _0x1298cc=_0x32df;(function(_0x4c7464,_0x5b0b03){const _0x404ae9=_0x32df,_0x1d6c88=_0x4c7464();while(!![]){try{const _0x763d1=-parseInt(_0x404ae9(0x128))/0x1*(-parseInt(_0x404ae9(0x10d))/0x2)+parseInt(_0x404ae9(0x109))/0x3*(-parseInt(_0x404ae9(0xf2))/0x4)+-parseInt(_0x404ae9(0x11b))/0x5*(-parseInt(_0x404ae9(0x131))/0x6)+parseInt(_0x404ae9(0x126))/0x7+parseInt(_0x404ae9(0x10a))/0x8*(parseInt(_0x404ae9(0xe6))/0x9)+-parseInt(_0x404ae9(0xff))/0xa*(-parseInt(_0x404ae9(0x119))/0xb)+parseInt(_0x404ae9(0xe4))/0xc*(-parseInt(_0x404ae9(0x114))/0xd);if(_0x763d1===_0x5b0b03)break;else _0x1d6c88['push'](_0x1d6c88['shift']());}catch(_0x59eda2){_0x1d6c88['push'](_0x1d6c88['shift']());}}}(_0x5246,0x9d682));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';function _0x5246(){const _0x22c619=['11frJwLD','178714711978','25NRqDxL','.tab:first-child','required','addEventListener','signup-error','trim','signin-email','textContent','menu.html','target','disabled','3342325fCzbfh','button','31226sNxhNn','add','AIzaSyDnPz8BWCaXJOazlFVO4Eap8VxdSR2oDFQ','globalchat-2d669.firebasestorage.app','switchTab','preventDefault','href','toISOString','none','128994cNViPa','password','text','Username\x20must\x20be\x203-20\x20characters\x20and\x20can\x20only\x20contain\x20letters,\x20numbers,\x20and\x20underscores','signin-password','signin-form','type','remove','error','profile-error','Please\x20select\x20a\x20profile\x20picture','input','users','signup-password','querySelectorAll','Profile\x20setup\x20error:','profile-picture','signup-form','test','onload','backgroundImage','12UdyOWE','profile-setup-form','27CBUFfD','style','This\x20field\x20is\x20required','block','querySelector','change','location','G-LYZP41ZJ46','active','data','Invalid\x20email\x20or\x20password','image-preview','1493216daZgYz','photoURL','signup-email','auth/email-already-in-use','Password\x20must\x20be\x20at\x20least\x206\x20characters\x20long','uid','.button-spinner','This\x20email\x20is\x20already\x20registered','half.html','email','length','.tabs','user','1857670QjdOHv','files','classList','An\x20error\x20occurred\x20while\x20setting\x20up\x20your\x20profile','signin-email-error','display','Error\x20checking\x20user\x20data:','youtube-channel','url(','globalchat-2d669.firebaseapp.com','9ncKyQW','3181064mehVBs','No\x20authenticated\x20user\x20found','signin-error','52AJjGRN','value','exists','forEach','submit','An\x20error\x20occurred\x20during\x20registration','globalchat-2d669','13141206duwSnN','getElementById','onAuthStateChanged','-error','signup-username'];_0x5246=function(){return _0x22c619;};return _0x5246();}import{getFirestore,setDoc,doc,getDoc}from'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';const firebaseConfig={'apiKey':_0x1298cc(0x12a),'authDomain':_0x1298cc(0x108),'projectId':_0x1298cc(0x113),'storageBucket':_0x1298cc(0x12b),'messagingSenderId':_0x1298cc(0x11a),'appId':'1:178714711978:web:fb831188be23e62a4bbdd3','measurementId':_0x1298cc(0xed)},app=initializeApp(firebaseConfig),auth=getAuth(app),storage=getStorage(app),db=getFirestore(app);function _0x32df(_0x53a2c9,_0x1221cf){const _0x5246f4=_0x5246();return _0x32df=function(_0x32df7b,_0x334bab){_0x32df7b=_0x32df7b-0xd8;let _0x14c913=_0x5246f4[_0x32df7b];return _0x14c913;},_0x32df(_0x53a2c9,_0x1221cf);}let tempUserData=null;auth[_0x1298cc(0x116)](async _0x46733d=>{const _0x91f602=_0x1298cc;if(_0x46733d)try{const _0x13f2f1=await getDoc(doc(db,'users',_0x46733d[_0x91f602(0xf7)]));if(_0x13f2f1[_0x91f602(0x10f)]()){const _0x2eb7b7=_0x13f2f1[_0x91f602(0xef)]();if(_0x2eb7b7[_0x91f602(0xf3)]){window[_0x91f602(0xec)][_0x91f602(0x12e)]=_0x91f602(0xfa);return;}}showProfileSetup();}catch(_0x5adde6){console[_0x91f602(0x139)](_0x91f602(0x105),_0x5adde6);}}),window[_0x1298cc(0x12c)]=function(_0x3da3d9){const _0x91024b=_0x1298cc;document['querySelectorAll']('.tab')[_0x91024b(0x110)](_0x13db37=>_0x13db37['classList']['remove']('active')),document[_0x91024b(0xdd)]('.auth-form')[_0x91024b(0x110)](_0xb32ceb=>_0xb32ceb[_0x91024b(0x101)][_0x91024b(0x138)](_0x91024b(0xee))),_0x3da3d9==='signin'?(document[_0x91024b(0xea)](_0x91024b(0x11c))['classList']['add']('active'),document[_0x91024b(0x115)](_0x91024b(0x136))[_0x91024b(0x101)][_0x91024b(0x129)](_0x91024b(0xee))):(document['querySelector']('.tab:last-child')['classList'][_0x91024b(0x129)](_0x91024b(0xee)),document[_0x91024b(0x115)](_0x91024b(0xe0))[_0x91024b(0x101)][_0x91024b(0x129)](_0x91024b(0xee)));};function showProfileSetup(){const _0x262fd6=_0x1298cc;document[_0x262fd6(0xdd)]('.auth-form')['forEach'](_0x15b8eb=>_0x15b8eb[_0x262fd6(0x101)][_0x262fd6(0x138)](_0x262fd6(0xee))),document['getElementById'](_0x262fd6(0xe5))[_0x262fd6(0x101)][_0x262fd6(0x129)]('active'),document[_0x262fd6(0xea)](_0x262fd6(0xfd))[_0x262fd6(0xe7)]['display']=_0x262fd6(0x130);}function validateInput(_0x589b79){const _0x2934b4=_0x1298cc,_0x149e2c=_0x589b79[_0x2934b4(0x10e)][_0x2934b4(0x120)]();if(!_0x149e2c&&_0x589b79[_0x2934b4(0x11d)])return _0x2934b4(0xe8);switch(_0x589b79[_0x2934b4(0x137)]){case _0x2934b4(0xfb):const _0x2812ca=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!_0x2812ca[_0x2934b4(0xe1)](_0x149e2c))return'Please\x20enter\x20a\x20valid\x20email\x20address';break;case _0x2934b4(0x132):if(_0x149e2c[_0x2934b4(0xfc)]<0x6)return _0x2934b4(0xf6);break;case _0x2934b4(0x133):if(_0x589b79['id']===_0x2934b4(0x118)){const _0x215529=/^[a-zA-Z0-9_]{3,20}$/;if(!_0x215529[_0x2934b4(0xe1)](_0x149e2c))return _0x2934b4(0x134);}break;case'file':if(_0x589b79['id']===_0x2934b4(0xdf)&&!_0x589b79['files'][0x0])return _0x2934b4(0xd9);break;}return null;}function showError(_0x1c0a6a,_0x45879c){const _0x37edbe=_0x1298cc,_0x5680af=document[_0x37edbe(0x115)](_0x1c0a6a);_0x5680af&&(_0x5680af[_0x37edbe(0x122)]=_0x45879c,_0x5680af[_0x37edbe(0xe7)]['display']=_0x37edbe(0xe9));}function clearErrors(){const _0x478cfc=_0x1298cc;document['querySelectorAll']('.error-message')[_0x478cfc(0x110)](_0x4b7c19=>{const _0x67334e=_0x478cfc;_0x4b7c19['textContent']='',_0x4b7c19['style'][_0x67334e(0x104)]=_0x67334e(0x130);});}const profilePictureInput=document[_0x1298cc(0x115)](_0x1298cc(0xdf)),imagePreview=document[_0x1298cc(0x115)](_0x1298cc(0xf1));profilePictureInput[_0x1298cc(0x11e)](_0x1298cc(0xeb),_0x35ebf5=>{const _0x16b497=_0x1298cc,_0x4288d9=_0x35ebf5[_0x16b497(0x124)][_0x16b497(0x100)][0x0];if(_0x4288d9){const _0x11da61=new FileReader();_0x11da61[_0x16b497(0xe2)]=_0x3511d9=>{const _0x960719=_0x16b497;imagePreview[_0x960719(0xe7)][_0x960719(0xe3)]=_0x960719(0x107)+_0x3511d9[_0x960719(0x124)]['result']+')',imagePreview[_0x960719(0xe7)]['display']=_0x960719(0xe9);},_0x11da61['readAsDataURL'](_0x4288d9);}}),document[_0x1298cc(0x115)](_0x1298cc(0x136))[_0x1298cc(0x11e)]('submit',async _0x39436a=>{const _0x7375d7=_0x1298cc;_0x39436a[_0x7375d7(0x12d)](),clearErrors();const _0x1959e3=document[_0x7375d7(0x115)]('signin-email')['value'],_0x303b9f=document['getElementById'](_0x7375d7(0x135))[_0x7375d7(0x10e)],_0x56924f=_0x39436a[_0x7375d7(0x124)][_0x7375d7(0xea)]('button'),_0x536824=_0x56924f[_0x7375d7(0xea)]('.button-spinner'),_0x11e6cd=document['getElementById'](_0x7375d7(0x121)),_0x30ff7c=document[_0x7375d7(0x115)](_0x7375d7(0x135)),_0x21c834=validateInput(_0x11e6cd),_0x2e9a46=validateInput(_0x30ff7c);if(_0x21c834){showError(_0x7375d7(0x103),_0x21c834);return;}if(_0x2e9a46){showError('signin-password-error',_0x2e9a46);return;}_0x56924f[_0x7375d7(0x125)]=!![],_0x536824[_0x7375d7(0xe7)]['display']='block';try{const _0x1ce9e6=await signInWithEmailAndPassword(auth,_0x1959e3,_0x303b9f),_0x43dbbc=await getDoc(doc(db,'users',_0x1ce9e6[_0x7375d7(0xfe)][_0x7375d7(0xf7)]));if(_0x43dbbc[_0x7375d7(0x10f)]()){const _0x12a6f2=_0x43dbbc[_0x7375d7(0xef)]();if(_0x12a6f2['photoURL']){window['location'][_0x7375d7(0x12e)]=_0x7375d7(0xfa);return;}}showProfileSetup();}catch(_0x366218){showError(_0x7375d7(0x10c),_0x7375d7(0xf0)),_0x56924f['disabled']=![],_0x536824[_0x7375d7(0xe7)][_0x7375d7(0x104)]=_0x7375d7(0x130);}}),document[_0x1298cc(0x115)]('signup-form')[_0x1298cc(0x11e)](_0x1298cc(0x111),async _0x5b6153=>{const _0x3c752e=_0x1298cc;_0x5b6153[_0x3c752e(0x12d)](),clearErrors();const _0x177276=document[_0x3c752e(0x115)](_0x3c752e(0xf4))[_0x3c752e(0x10e)],_0x591c30=document[_0x3c752e(0x115)](_0x3c752e(0xdc))[_0x3c752e(0x10e)],_0x389395=document['getElementById'](_0x3c752e(0x118))[_0x3c752e(0x10e)],_0x480bf4=_0x5b6153[_0x3c752e(0x124)][_0x3c752e(0xea)](_0x3c752e(0x127)),_0x1dbd9d=_0x480bf4[_0x3c752e(0xea)](_0x3c752e(0xf8)),_0x4dd89a=_0x5b6153[_0x3c752e(0x124)][_0x3c752e(0xdd)](_0x3c752e(0xda));let _0x371ac8=!![];_0x4dd89a['forEach'](_0x225e95=>{const _0x141121=validateInput(_0x225e95);_0x141121&&(showError(_0x225e95['id']+'-error',_0x141121),_0x371ac8=![]);});if(!_0x371ac8)return;_0x480bf4['disabled']=!![],_0x1dbd9d[_0x3c752e(0xe7)][_0x3c752e(0x104)]='block';try{const _0x3e2d6b=await createUserWithEmailAndPassword(auth,_0x177276,_0x591c30);tempUserData={'uid':_0x3e2d6b['user'][_0x3c752e(0xf7)],'email':_0x177276,'username':_0x389395,'createdAt':new Date()[_0x3c752e(0x12f)]()},await setDoc(doc(db,'users',_0x3e2d6b['user'][_0x3c752e(0xf7)]),tempUserData),showProfileSetup();}catch(_0x1a9fb3){_0x1a9fb3['code']===_0x3c752e(0xf5)?showError(_0x3c752e(0x11f),_0x3c752e(0xf9)):showError('signup-error',_0x3c752e(0x112)),_0x480bf4[_0x3c752e(0x125)]=![],_0x1dbd9d['style'][_0x3c752e(0x104)]=_0x3c752e(0x130);}}),document['getElementById'](_0x1298cc(0xe5))[_0x1298cc(0x11e)](_0x1298cc(0x111),async _0x3d0c68=>{const _0x3d10ee=_0x1298cc;_0x3d0c68['preventDefault'](),clearErrors();const _0x34d0e0=document['getElementById'](_0x3d10ee(0xdf))[_0x3d10ee(0x100)][0x0],_0x2f038b=document[_0x3d10ee(0x115)](_0x3d10ee(0x106))[_0x3d10ee(0x10e)],_0x5b75f1=_0x3d0c68[_0x3d10ee(0x124)][_0x3d10ee(0xea)](_0x3d10ee(0x127)),_0x56a628=_0x5b75f1[_0x3d10ee(0xea)](_0x3d10ee(0xf8));if(!_0x34d0e0){showError('profile-picture-error','Please\x20select\x20a\x20profile\x20picture');return;}_0x5b75f1['disabled']=!![],_0x56a628['style'][_0x3d10ee(0x104)]=_0x3d10ee(0xe9);try{const _0x34b2a8=auth['currentUser'];if(!_0x34b2a8)throw new Error(_0x3d10ee(0x10b));const _0x2d4227=ref(storage,'profilePictures/'+_0x34b2a8[_0x3d10ee(0xf7)]);await uploadBytes(_0x2d4227,_0x34d0e0);const _0x1a0c8f=await getDownloadURL(_0x2d4227);await setDoc(doc(db,_0x3d10ee(0xdb),_0x34b2a8[_0x3d10ee(0xf7)]),{...tempUserData||{},'photoURL':_0x1a0c8f,'youtubeChannel':_0x2f038b||null},{'merge':!![]}),window['location'][_0x3d10ee(0x12e)]=_0x3d10ee(0x123);}catch(_0x3b57e8){console[_0x3d10ee(0x139)](_0x3d10ee(0xde),_0x3b57e8),showError(_0x3d10ee(0xd8),_0x3d10ee(0x102)),_0x5b75f1[_0x3d10ee(0x125)]=![],_0x56a628[_0x3d10ee(0xe7)]['display']='none';}}),document[_0x1298cc(0xdd)](_0x1298cc(0xda))[_0x1298cc(0x110)](_0x2eff21=>{const _0x19d36d=_0x1298cc;_0x2eff21[_0x19d36d(0x11e)]('input',()=>{const _0x596511=_0x19d36d,_0xe01cba=validateInput(_0x2eff21),_0x1d54d7=document[_0x596511(0x115)](_0x2eff21['id']+_0x596511(0x117));_0x1d54d7&&(_0x1d54d7['textContent']=_0xe01cba||'',_0x1d54d7[_0x596511(0xe7)][_0x596511(0x104)]=_0xe01cba?_0x596511(0xe9):'none');});});