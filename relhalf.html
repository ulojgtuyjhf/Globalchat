
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="stylesheet" href="login.css">
    <link rel="icon" type="image/jpg" href="/storage/emulated/0/Pictures/Screenshot/Screenshot_20250331-185745.jpg">
  
    <title>Social Media Interface</title>
     

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}
/* Prevent scrolling */
html, body {
    overflow: hidden;
    height: 100%;
    width: 100%;
}

body {
    background-color: #fff;
    color: #0f1419;
    height: 100vh;
    overflow: hidden;
}

.container {
    display: flex;
    height: 100vh;
    width: 100%;
}

/* Left sidebar styles - slightly reduced width */
.sidebar {
    width: 300px;
    padding: 0 16px;
    display: flex;
    flex-direction: column;
    border-right: 1px solid #eff3f4;
    height: 100%;
}

/* Logo styles - updated to match your splash screen */
.logo-container {
    margin: 12px 0;
    padding: 10px 12px;
}

.logo {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    color: transparent;
    font-weight: bold;
    font-size: 28px;
    cursor: pointer;
    transition: filter 0.2s ease;
    outline: none;
    margin-left: 8px;
    position: relative;
}

/* Creating the circular gradient border */
.logo::before {
    content: '';
    position: absolute;
    top: -8px;
    left: -1px;
    right: -20px;
    bottom: -8px;
    border-radius: 50%;
    background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 15%, #3a3a3a 30%, #4d4d4d 45%, #626262 60%, #787878 75%, #8f8f8f 90%, #a6a6a6 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    border: 8px solid transparent;
    z-index: 1;
    padding: 2px;
}

/* Logo text with gradient */
.logo::after {
    content: 'N';
    position: relative;
    z-index: 2;
    background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 15%, #3a3a3a 30%, #4d4d4d 45%, #626262 60%, #787878 75%, #8f8f8f 90%, #a6a6a6 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-size: 28px;
    font-weight: 700;
    letter-spacing: -1px;
}

.logo:hover,
.logo:focus {
    filter: brightness(1.05);
}

/* Remove blue focus outline from all clickable elements */
.menu-item:focus,
.post-btn:focus {
    outline: none;
}

.menu {
    display: flex;
    flex-direction: column;
    margin-top: 10px;
}

.menu-item {
    display: flex;
    align-items: center;
    padding: 12px;
    border-radius: 50px;
    margin-bottom: 12px;
    color: #0f1419;
    text-decoration: none;
    font-size: 18px;
    font-weight: 400;
    cursor: pointer;
    transition: background-color 0.2s ease;
    outline: none;
    width: 90%;
    margin-left: 8px;
}

/* Fixed hover animation to persist until finger/mouse is removed */
.menu-item:hover {
    background-color: rgba(128, 128, 128, 0.1);
}

.menu-item.active {
    font-weight: 700;
    color: #4d4d4d;
}

.menu-item svg {
    margin-right: 20px;
    width: 24px;
    height: 24px;
}

.menu-item.active svg {
    color: #4d4d4d;
    fill: #4d4d4d;
}

/* Updated post button with new gradient */
.post-btn {
    background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 15%, #3a3a3a 30%, #4d4d4d 45%, #626262 60%, #787878 75%, #8f8f8f 90%, #a6a6a6 100%);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 15px 0;
    font-size: 16px;
    font-weight: 700;
    margin: 15px 0;
    cursor: pointer;
    transition: filter 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    outline: none;
    width: 90%;
    margin-left: 8px;
}

.post-btn:hover,
.post-btn:focus {
    background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 15%, #3a3a3a 30%, #4d4d4d 45%, #626262 60%, #787878 75%, #8f8f8f 90%, #a6a6a6 100%);
    filter: brightness(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

/* Content sections - updated for iframe alignment */
.content-section {
    position: relative;
    height: 100%;
    overflow: hidden;
}

.content {
    flex-grow: 1;
    min-width: 0;
    height: 100%;
    border-right: 1px solid #eff3f4;
    padding: 0;
}

.widgets {
    width: 350px;
    height: 100%;
    padding: 0;
}

.section-container {
    width: 100%;
    height: 100%;
    display: none;
    position: relative;
}

.section-container.active {
    display: block;
}

/* Updated iframe styles for perfect fit */
.section-container iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
    position: absolute;
    top: 0;
    left: 0;
}

.loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 2;
    display: none;
}

.loader svg {
    animation: spin 1s linear infinite;
}

.loader svg path, .loader svg circle {
    fill: #4d4d4d !important;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Tweet compose modal */
.tweet-compose-modal {
    backdrop-filter: blur(5px);
}

.tweet-compose-content {
    border: 1px solid rgba(128, 128, 128, 0.2);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
}

.tweet-compose-close:hover {
    background-color: rgba(128, 128, 128, 0.1);
    color: #4d4d4d;
}

/* Theme variations */
body.dark {
    background-color: #000000;
    color: #ffffff;
}

body.dark .logo {
    background: #000;
}

body.dark .sidebar,
body.dark .content {
    border-right-color: #2f3336;
}

body.dark .menu-item {
    color: #ffffff;
}

body.dark .menu-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

body.dim {
    background-color: #15202b;
    color: #f7f9f9;
}

body.dim .logo {
    background: #15202b;
}

body.dim .sidebar,
body.dim .content {
    border-right-color: #38444d;
}

body.dim .menu-item {
    color: #f7f9f9;
}

body.dim .menu-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

/* Responsive styles */
@media (max-width: 1024px) {
    .widgets {
        width: 290px;
    }
}

@media (max-width: 768px) {
    .sidebar {
        width: 80px;
        padding: 0 8px;
    }
    
    .logo-container {
        display: flex;
        justify-content: center;
        padding: 10px 0;
    }
    
    .logo {
        margin-left: 0;
    }
    
    .menu-item {
        width: 50px;
        height: 50px;
        margin-left: auto;
        margin-right: auto;
        justify-content: center;
        padding: 0;
        display: flex;
        align-items: center;
    }
    
    .menu-item svg {
        margin-right: 0;
    }
    
    .sidebar .menu-item span {
        display: none;
    }
    
    .sidebar .post-btn {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 15px auto;
    }
    
    .sidebar .post-btn::after {
        content: "+";
        font-size: 24px;
    }
    
    .sidebar .post-btn span {
        display: none;
    }
}

@media (max-width: 500px) {
    .widgets {
        display: none;
    }
}
</style>
</head>
<body>
    <div class="container">
        <!-- Left sidebar (menu) -->
        <div class="sidebar">
            <!-- Logo -->
            <div class="logo-container">
                <div class="logo" id="home-logo">
                    N
                </div>
            </div>
            
            <nav class="menu">
                <a href="#" class="menu-item active" data-section="home-section">
                 <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.97 122.88"><title>instagram-comment</title><path d="M61.44,0a61.46,61.46,0,0,1,54.91,89l6.44,25.74a5.83,5.83,0,0,1-7.25,7L91.62,115A61.43,61.43,0,1,1,61.44,0ZM96.63,26.25a49.78,49.78,0,1,0-9,77.52A5.83,5.83,0,0,1,92.4,103L109,107.77l-4.5-18a5.86,5.86,0,0,1,.51-4.34,49.06,49.06,0,0,0,4.62-11.58,50,50,0,0,0-13-47.62Z"/></svg>
                    <span>chat</span>
                </a>
                <a href="#" class="menu-item" data-section="explore-section"><?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 122.88" style="enable-background:new 0 0 122.88 122.88" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M61.44,0c33.93,0,61.44,27.51,61.44,61.44s-27.51,61.44-61.44,61.44S0,95.37,0,61.44S27.51,0,61.44,0L61.44,0z M83.31,65.24c3.13-2.02,3.12-4.27,0-6.06L50.98,40.6c-2.55-1.6-5.21-0.66-5.14,2.67l0.1,37.55c0.22,3.61,2.28,4.6,5.32,2.93 L83.31,65.24L83.31,65.24z M61.44,12.48c27.04,0,48.96,21.92,48.96,48.96c0,27.04-21.92,48.96-48.96,48.96S12.48,88.48,12.48,61.44 C12.48,34.4,34.4,12.48,61.44,12.48L61.44,12.48z"/></g></svg>

                    <span>updates</span>
                </a>
                <a href="#" class="menu-item" data-section="notifications-section">
                    <?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 329.799" fill="currentColor">
  <path fill-rule="nonzero" d="M63.64 0h256.865c34.817 0 63.641 28.993 63.641 63.772v2.937l109.278-48.398c6.684-2.941 14.494.095 17.436 6.778a13.198 13.198 0 011.123 5.329l.017 268.98c0 7.315-5.932 13.247-13.247 13.247-2.305 0-4.47-.591-6.357-1.623l-108.25-50.035v5.04c0 34.59-29.018 63.772-63.641 63.772H63.64c-34.821 0-63.64-28.98-63.64-63.772V63.772C0 28.794 28.629 0 63.64 0zm321.431 95.235v137.057l100.435 46.42V50.753L385.071 95.235zm-64.566-68.741H63.64c-20.562 0-37.41 16.679-37.41 37.278v202.255c0 20.417 17.03 37.279 37.41 37.279h256.865c20.187 0 37.411-17.064 37.411-37.279V63.772c0-20.409-17.034-37.278-37.411-37.278z" />
</svg>
                    <span>facetime call</span>
                </a>
                <a href="#" class="menu-item" data-section="messages-section">
                    <svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 448.012"><path fill="#424C57" fill-rule="nonzero" d="M386.912 404.082c-31.653 27.804-68.134 42.5-104.037 43.83-37.327 1.383-73.956-11.673-103.851-39.445l-15.148-14.072-54.139-44.075h-48.07c-25.406 0-43.633-20.936-46.214-46.212L.195 154.71c-2.581-25.279 20.879-48.258 46.214-46.215l189.276 15.258c25.335 2.042 46.214 20.793 46.214 46.215v134.14c0 25.418-20.805 46.212-46.214 46.212h-59.323l4.221 47.53 4.398 2.497c33.226 18.862 65.806 26.928 96.721 22.849 28.258-3.73 55.317-17.66 80.412-42.828l-15.449-13.603 64.278-14.309-7.532 67.307-16.499-15.681z"/><path fill="#337EC6" d="M276.315 73.91l113.118-9.119-30.176-17.127c-33.228-18.859-65.809-26.927-96.721-22.848-28.26 3.73-55.319 17.66-80.414 42.827l15.449 13.604-64.277 14.309 7.533-67.307 16.498 15.682C188.979 16.128 225.46 1.43 261.363.099c37.327-1.382 73.956 11.673 103.851 39.446l26.942 25.027 73.434-5.92c25.335-2.042 48.796 20.936 46.215 46.216l-15.258 149.397c-2.581 25.277-20.808 46.212-46.215 46.212h-50.099l-71.815 58.466 5.19-58.466h-57.293c-25.411 0-46.216-20.793-46.216-46.212V120.126c0-25.422 20.881-44.173 46.216-46.216z"/><path fill="#fff" d="M84.246 173.714h43.841v-12.353h19.585v12.353h44.001v20.281h-9.033c-1.629 12.811-5.21 23.368-11.297 34.746-5.149 9.611-11.796 18.87-19.516 27.744 12.32 14.735 27.616 27.554 45.826 39.24l-10.073 15.701c-19.119-12.267-35.356-25.774-48.699-41.332-11.936 11.547-25.496 22.303-39.7 32.127l-10.588-15.325c14.055-9.725 27.407-20.347 38.896-31.672-10.588-15.493-18.697-32.88-24.308-52.875l17.968-5.038c4.601 16.401 11.052 30.837 19.344 43.759 5.657-6.848 10.548-13.876 14.412-21.092 4.74-8.866 7.286-16.196 8.89-25.983H84.246v-20.281zM398.456 215.314h-55.931l-7.357 25.09h-27.814c11.988-31.729 25.831-69.829 37.825-101.573 4.318-11.466 9.234-30.467 24.943-30.467 16.284 0 21.691 17.409 26.222 29.436l38.4 103.122h-28.708l-7.58-25.608zm-6-24.398l-21.893-57.703-21.971 57.703h43.864z"/></svg>
                    <span>Messages</span>
                </a>
                <a href="#" class="menu-item" data-section="bookmarks-section">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M4 4.5C4 3.12 5.119 2 6.5 2h11C18.881 2 20 3.12 20 4.5v18.44l-8-5.71-8 5.71V4.5zM6.5 4c-.276 0-.5.22-.5.5v14.56l6-4.29 6 4.29V4.5c0-.28-.224-.5-.5-.5h-11z"></path>
                    </svg>
                    <span>Bookmarks</span>
                </a>
                <a href="#" class="menu-item" data-section="profile-section">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M5.651 19h12.698c-.337-1.8-1.023-3.21-1.945-4.19C15.318 13.65 13.838 13 12 13s-3.317.65-4.404 1.81c-.922.98-1.608 2.39-1.945 4.19zm.486-5.56C7.627 11.85 9.648 11 12 11s4.373.85 5.863 2.44c1.477 1.58 2.366 3.8 2.632 6.46l.11 1.1H3.395l.11-1.1c.266-2.66 1.155-4.88 2.632-6.46zM12 4c-1.105 0-2 .9-2 2s.895 2 2 2 2-.9 2-2-.895-2-2-2zM8 6c0-2.21 1.791-4 4-4s4 1.79 4 4-1.791 4-4 4-4-1.79-4-4z"></path>
                    </svg>
                    <span>Profile</span>
                </a>
            </nav>
            <button class="post-btn">
                <span>more</span>
            </button>
        </div>

        <!-- Middle section (dynamic content) -->
        <div class="content content-section">
            <!-- All sections are preloaded but hidden -->
            <div id="home-section" class="section-container active">
                <iframe src="globalchat.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div id="explore-section" class="section-container">
                <iframe src="search.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div id="notifications-section" class="section-container">
                <iframe src="localst.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div id="messages-section" class="section-container">
                <iframe src="messages.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div id="bookmarks-section" class="section-container">
                <iframe src="bookmarks.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div id="profile-section" class="section-container">
                <iframe src="profileview.html" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            
            <!-- Loader -->
            <div class="loader" id="content-loader">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="#1d9bf0">
                    <circle cx="12" cy="12" r="10" opacity="0.1" fill="#1d9bf0"/>
                    <path d="M12 22c5.523 0 10-4.477 10-10h-3c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7V2C6.477 2 2 6.477 2 12s4.477 10 10 10z"></path>
                </svg>
            </div>
        </div>

        <!-- Right widgets section -->
        <div class="widgets content-section">
            <iframe id="widgets-frame" src="fed.html" frameborder="0" width="100%" height="100%"></iframe>
            <div class="loader" id="widgets-loader">
                <svg width="40" height="40" viewBox="0 0 24 24" fill="#1d9bf0">
                    <circle cx="12" cy="12" r="10" opacity="0.1" fill="#1d9bf0"/>
                    <path d="M12 22c5.523 0 10-4.477 10-10h-3c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7V2C6.477 2 2 6.477 2 12s4.477 10 10 10z"></path>
                </svg>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuItems = document.querySelectorAll('.menu-item');
            const sections = document.querySelectorAll('.section-container');
            const contentLoader = document.getElementById('content-loader');
            const logo = document.getElementById('home-logo');
            
            // Add logo click handler to return to home
            logo.addEventListener('click', function() {
                switchToSection('home-section');
            });
            
            // Track loaded sections to avoid reloading
            const loadedSections = {
                'home-section': false,
                'explore-section': false,
                'notifications-section': false,
                'messages-section': false,
                'bookmarks-section': false,
                'profile-section': false
            };
            
            // Set home section as loaded
            loadedSections['home-section'] = true;
            
            // Load a section only the first time it's accessed
            function loadSection(sectionId) {
                if (!loadedSections[sectionId]) {
                    try {
                        // Mark section as loaded - this happens before the actual load
                        // to prevent multiple load attempts on errors
                        loadedSections[sectionId] = true;
                        
                        // Show loader while section initializes
                        contentLoader.style.display = 'block';
                        
                        // On first load, initialize the section
                        const section = document.getElementById(sectionId);
                        const iframe = section.querySelector('iframe');
                        
                        iframe.onload = function() {
                            // Hide loader when iframe is loaded
                            contentLoader.style.display = 'none';
                        };
                        
                        iframe.onerror = function() {
                            // Handle load error
                            console.error(`Failed to load content for ${sectionId}`);
                            contentLoader.style.display = 'none';
                            alert("Error loading content. Please try again later.");
                            
                            // Fall back to home section
                            switchToSection('home-section');
                        };
                        
                        // Add additional error handling with timeout
                        setTimeout(function() {
                            if (contentLoader.style.display === 'block') {
                                // Still loading after timeout - probably an error
                                contentLoader.style.display = 'none';
                            }
                        }, 5000);
                    } catch (error) {
                        console.error("Error initializing section:", error);
                        contentLoader.style.display = 'none';
                    }
                } else {
                    // Section already loaded, just show it
                    contentLoader.style.display = 'none';
                }
            }
            
            // Switch to a section
            function switchToSection(sectionId) {
                // Hide all sections
                sections.forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show selected section
                const selectedSection = document.getElementById(sectionId);
                selectedSection.classList.add('active');
                
                // Load content if first visit
                loadSection(sectionId);
                
                // Update menu
                menuItems.forEach(item => {
                    if (item.getAttribute('data-section') === sectionId) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
            
            // Add click handlers to menu items
            menuItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.getAttribute('data-section');
                    switchToSection(sectionId);
                });
            });
        });
    </script>




<script>
document.addEventListener('DOMContentLoaded', function() {
  // Retrieve the post button from the sidebar
  const postBtn = document.querySelector('.post-btn');
  if (!postBtn) return;
  
  let optionsVisible = false;
  
  // Create the container for the two option buttons
  const optionsContainer = document.createElement('div');
  optionsContainer.className = 'post-options-container';
  
  // Position it absolutely relative to the post button
  const postBtnRect = postBtn.getBoundingClientRect();
  optionsContainer.style.cssText = `
    position: absolute;
    bottom: ${postBtnRect.height + 10}px;
    left: ${postBtnRect.left}px;
    width: ${postBtnRect.width}px;
    background: var(--options-bg, #fff);
    border: 1px solid var(--options-border, rgba(0, 0, 0, 0.1));
    border-radius: 16px;
    box-shadow: 0 4px 12px var(--options-shadow, rgba(0, 0, 0, 0.15));
    overflow: hidden;
    opacity: 0;
    transform: translateY(10px);
    visibility: hidden;
    transition: all 0.2s cubic-bezier(0.2, 0, 0.2, 1);
    z-index: 100;
    display: flex;
    flex-direction: column;
  `;
  
  // Create "Post" option
  const postOption = document.createElement('button');
  postOption.className = 'post-option post-btn-option';
  postOption.style.cssText = `
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    background-color: inherit;
    font-weight: 600;
    color: var(--options-text, #0f1419);
    border: none;
    transition: background 0.2s ease;
    font-size: 15px;
  `;
  postOption.innerHTML = `
    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M23 3c-6.62-.1-10.38 2.421-13 5.76C7.38 5.42 3.62 2.9 0 3v2c3.62-.1 7.38 2.1 10 4.76C12.62 7.1 16.38 4.9 20 5v2c-3.62.1-7.38 2.1-10 4.76c-2.62-2.66-6.38-4.86-10-4.76v2c3.62-.1 7.38 2.1 10 4.76c-2.62 2.66-6.38 4.86-10 4.76v2c6.62-.1 10.38-2.421 13-5.76c2.62 3.34 6.38 5.66 10 5.76v-2c-3.62.1-7.38-2.1-10-4.76c2.62-2.66 6.38-4.86 10-4.76V3z"/>
    </svg>
    <span>Post</span>
  `;
  
  // Create "Appearance" option
  const appearanceOption = document.createElement('button');
  appearanceOption.className = 'post-option appearance-btn-option';
  appearanceOption.style.cssText = `
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    background-color: inherit;
    font-weight: 600;
    color: var(--options-text, #0f1419);
    border: none;
    transition: background 0.2s ease;
    font-size: 15px;
  `;
  appearanceOption.innerHTML = `
    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm0-18c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9L7.1 5.69C8.45 4.63 10.15 4 12 4zM5.69 7.1L16.9 18.31C15.55 19.37 13.85 20 12 20c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9z"/>
    </svg>
    <span>Appearance</span>
  `;
  
  // Append options and add hover effects
  optionsContainer.appendChild(postOption);
  
  // Add divider
  const divider = document.createElement('div');
  divider.style.cssText = `
    height: 1px;
    background: var(--options-divider, rgba(0, 0, 0, 0.1));
    width: 100%;
    margin: 0;
  `;
  optionsContainer.appendChild(divider);
  optionsContainer.appendChild(appearanceOption);
  
  // Add hover effects
  [postOption, appearanceOption].forEach(option => {
    option.addEventListener('mouseenter', () => {
      option.style.backgroundColor = 'var(--options-hover, rgba(0, 0, 0, 0.05))';
    });
    option.addEventListener('mouseleave', () => {
      option.style.backgroundColor = 'inherit';
    });
  });
  
  // Insert the options container right after the post button
  postBtn.parentNode.insertBefore(optionsContainer, postBtn.nextSibling);
  
  // Function to update position (for responsive adjustments)
  function updateOptionsPosition() {
    const postBtnRect = postBtn.getBoundingClientRect();
    optionsContainer.style.left = `${postBtnRect.left}px`;
    optionsContainer.style.bottom = `${postBtnRect.height + 10}px`;
    optionsContainer.style.width = `${postBtnRect.width}px`;
  }
  
  // --- Toggle Options ---
  function toggleOptions() {
    updateOptionsPosition();
    
    if (optionsVisible) {
      // Close animation
      optionsContainer.style.opacity = '0';
      optionsContainer.style.transform = 'translateY(10px)';
      setTimeout(() => {
        optionsContainer.style.visibility = 'hidden';
      }, 200);
    } else {
      // Open animation
      optionsContainer.style.visibility = 'visible';
      optionsContainer.style.opacity = '1';
      optionsContainer.style.transform = 'translateY(0)';
    }
    optionsVisible = !optionsVisible;
  }
  
  // --- Modal Creation with Beautiful Loading Animations ---
  function createModalHeader(closeCallback) {
    const header = document.createElement('div');
    header.style.cssText = `
      width: 100%;
      height: 53px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      border-bottom: 1px solid var(--modal-border, rgba(0, 0, 0, 0.1));
      background: var(--modal-header-bg, #fff);
    `;
    
    const closeBtn = document.createElement('button');
    closeBtn.innerHTML = `
      <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--modal-close, #536471)">
        <path d="M10.59 12L4.54 5.96l1.42-1.42L12 10.59l6.04-6.05 1.42 1.42L13.41 12l6.05 6.04-1.42 1.42L12 13.41l-6.04 6.05-1.42-1.42L10.59 12z"/>
      </svg>
    `;
    closeBtn.style.cssText = `
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      transition: background 0.2s ease;
    `;
    closeBtn.addEventListener('mouseenter', () => {
      closeBtn.style.backgroundColor = 'var(--modal-close-hover, rgba(0, 0, 0, 0.05))';
    });
    closeBtn.addEventListener('mouseleave', () => {
      closeBtn.style.backgroundColor = 'transparent';
    });
    closeBtn.addEventListener('click', closeCallback);
    header.appendChild(closeBtn);
    
    return header;
  }
  
  // Create the Post Modal with Loading Animation
  const postModal = document.createElement('div');
  postModal.className = 'tweet-compose-modal';
  postModal.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    display: none;
    justify-content: flex-end;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
  `;
  
  const postModalContent = document.createElement('div');
  postModalContent.className = 'tweet-compose-content';
  postModalContent.style.cssText = `
    background: var(--modal-bg, #fff);
    border-radius: 16px 0 0 16px;
    width: 600px;
    max-width: 90%;
    height: 100%;
    overflow: hidden;
    position: relative;
    transform: translateX(100%);
    transition: transform 0.3s cubic-bezier(0.2, 0, 0, 1);
    box-shadow: -5px 0 20px rgba(0, 0, 0, 0.15);
    display: flex;
    flex-direction: column;
  `;
  
  const postHeader = createModalHeader(closePostModal);
  const postContentArea = document.createElement('div');
  postContentArea.style.cssText = `
    flex: 1;
    position: relative;
  `;
  
  // Create the beautiful loading animation for post modal
  const postLoader = document.createElement('div');
  postLoader.className = 'tweet-compose-loader';
  postLoader.style.cssText = `
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    padding: 20px;
  `;
  postLoader.innerHTML = `
    <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--loader-color, #1d9bf0)">
      <circle cx="12" cy="12" r="10" opacity="0.1" fill="var(--loader-color, #1d9bf0)"/>
      <path d="M12 22c5.523 0 10-4.477 10-10h-3c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7V2C6.477 2 2 6.477 2 12s4.477 10 10 10z">
        <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="0.8s" repeatCount="indefinite"/>
      </path>
    </svg>
  `;
  
  const postIframeContainer = document.createElement('div');
  postIframeContainer.className = 'tweet-compose-iframe';
  postIframeContainer.style.cssText = `
    width: 100%;
    height: calc(100% - 53px);
    display: none;
    position: relative;
  `;
  
  const postIframe = document.createElement('iframe');
  postIframe.src = 'upload.html';
  postIframe.style.cssText = `
    width: 100%;
    height: 100%;
    border: none;
  `;
  
  postIframeContainer.appendChild(postIframe);
  postContentArea.appendChild(postLoader);
  postContentArea.appendChild(postIframeContainer);
  postModalContent.appendChild(postHeader);
  postModalContent.appendChild(postContentArea);
  postModal.appendChild(postModalContent);
  document.body.appendChild(postModal);
  
  // Create the Appearance Modal with Loading Animation
  const appearanceModal = document.createElement('div');
  appearanceModal.className = 'appearance-modal';
  appearanceModal.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    transition: opacity 0.3s ease;
  `;
  
  const appearanceModalContent = document.createElement('div');
  appearanceModalContent.className = 'appearance-content';
  appearanceModalContent.style.cssText = `
    background: var(--modal-bg, #fff);
    border-radius: 16px;
    width: 600px;
    max-width: 90%;
    max-height: 90vh;
    overflow: hidden;
    position: relative;
    transform: translateY(20px);
    transition: transform 0.3s cubic-bezier(0.2, 0, 0, 1);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
    display: flex;
    flex-direction: column;
  `;
  
  const appearanceHeader = createModalHeader(closeAppearanceModal);
  const appearanceContentArea = document.createElement('div');
  appearanceContentArea.style.cssText = `
    flex: 1;
    position: relative;
  `;
  
  // Create the beautiful loading animation for appearance modal
  const appearanceLoader = document.createElement('div');
  appearanceLoader.className = 'appearance-loader';
  appearanceLoader.style.cssText = `
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    padding: 20px;
  `;
  appearanceLoader.innerHTML = `
    <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--loader-color, #1d9bf0)">
      <circle cx="12" cy="12" r="10" opacity="0.1" fill="var(--loader-color, #1d9bf0)"/>
      <path d="M12 22c5.523 0 10-4.477 10-10h-3c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7V2C6.477 2 2 6.477 2 12s4.477 10 10 10z">
        <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="0.8s" repeatCount="indefinite"/>
      </path>
    </svg>
  `;
  
  const appearanceIframeContainer = document.createElement('div');
  appearanceIframeContainer.className = 'appearance-iframe';
  appearanceIframeContainer.style.cssText = `
    width: 100%;
    height: 500px;
    display: none;
    position: relative;
  `;
  
  const appearanceIframe = document.createElement('iframe');
  appearanceIframe.src = 'chats.html';
  appearanceIframe.style.cssText = `
    width: 100%;
    height: 100%;
    border: none;
  `;
  
  appearanceIframeContainer.appendChild(appearanceIframe);
  appearanceContentArea.appendChild(appearanceLoader);
  appearanceContentArea.appendChild(appearanceIframeContainer);
  appearanceModalContent.appendChild(appearanceHeader);
  appearanceModalContent.appendChild(appearanceContentArea);
  appearanceModal.appendChild(appearanceModalContent);
  document.body.appendChild(appearanceModal);
  
  // --- Modal Open/Close Functions with Loading Animations ---
  function openPostModal() {
    document.body.style.overflow = 'hidden';
    postModal.style.display = 'flex';
    void postModal.offsetWidth; // Force reflow
    postModal.style.opacity = '1';
    postModalContent.style.transform = 'translateX(0)';
    
    // Show loader initially
    postLoader.style.display = 'flex';
    postIframeContainer.style.display = 'none';
    
    // Hide options
    optionsContainer.style.opacity = '0';
    optionsContainer.style.visibility = 'hidden';
    optionsContainer.style.transform = 'translateY(10px)';
    optionsVisible = false;
    
    // Simulate loading (in real app, this would be when iframe loads)
    setTimeout(() => {
      postLoader.style.display = 'none';
      postIframeContainer.style.display = 'block';
    }, 800);
  }
  
  function closePostModal() {
    postModal.style.opacity = '0';
    postModalContent.style.transform = 'translateX(100%)';
    setTimeout(() => {
      postModal.style.display = 'none';
      document.body.style.overflow = '';
      
      // Reset for next open
      postLoader.style.display = 'flex';
      postIframeContainer.style.display = 'none';
    }, 300);
  }
  
  function openAppearanceModal() {
    document.body.style.overflow = 'hidden';
    appearanceModal.style.display = 'flex';
    void appearanceModal.offsetWidth; // Force reflow
    appearanceModal.style.opacity = '1';
    appearanceModalContent.style.transform = 'translateY(0)';
    
    // Show loader initially
    appearanceLoader.style.display = 'flex';
    appearanceIframeContainer.style.display = 'none';
    
    // Hide options
    optionsContainer.style.opacity = '0';
    optionsContainer.style.visibility = 'hidden';
    optionsContainer.style.transform = 'translateY(10px)';
    optionsVisible = false;
    
    // Simulate loading (in real app, this would be when iframe loads)
    setTimeout(() => {
      appearanceLoader.style.display = 'none';
      appearanceIframeContainer.style.display = 'block';
    }, 800);
  }
  
  function closeAppearanceModal() {
    appearanceModal.style.opacity = '0';
    appearanceModalContent.style.transform = 'translateY(20px)';
    setTimeout(() => {
      appearanceModal.style.display = 'none';
      document.body.style.overflow = '';
      
      // Reset for next open
      appearanceLoader.style.display = 'flex';
      appearanceIframeContainer.style.display = 'none';
    }, 300);
  }
  
  // --- Event Listeners ---
  postBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    toggleOptions();
  });
  
  postOption.addEventListener('click', function(e) {
    e.stopPropagation();
    openPostModal();
  });
  
  appearanceOption.addEventListener('click', function(e) {
    e.stopPropagation();
    openAppearanceModal();
  });
  
  // Close options when clicking outside
  document.addEventListener('click', function(e) {
    if (optionsVisible && !optionsContainer.contains(e.target) && e.target !== postBtn) {
      optionsContainer.style.opacity = '0';
      optionsContainer.style.visibility = 'hidden';
      optionsContainer.style.transform = 'translateY(10px)';
      optionsVisible = false;
    }
  });
  
  // Close modals when clicking outside the content
  postModal.addEventListener('click', function(e) {
    if (e.target === postModal) closePostModal();
  });
  
  appearanceModal.addEventListener('click', function(e) {
    if (e.target === appearanceModal) closeAppearanceModal();
  });
  
  // Close any open modals/options on Escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      if (postModal.style.display === 'flex') closePostModal();
      if (appearanceModal.style.display === 'flex') closeAppearanceModal();
      if (optionsVisible) {
        optionsContainer.style.opacity = '0';
        optionsContainer.style.visibility = 'hidden';
        optionsContainer.style.transform = 'translateY(10px)';
        optionsVisible = false;
      }
    }
  });
  
  // Update CSS variables based on theme
  function updateThemeVariables() {
    const isDark = document.body.classList.contains('dark');
    const isDim = document.body.classList.contains('dim');
    
    if (isDark) {
      // Dark theme variables
      document.documentElement.style.setProperty('--options-bg', '#000');
      document.documentElement.style.setProperty('--options-border', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-shadow', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-text', '#fff');
      document.documentElement.style.setProperty('--options-hover', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-divider', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--modal-bg', '#000');
      document.documentElement.style.setProperty('--modal-border', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--modal-header-bg', '#000');
      document.documentElement.style.setProperty('--modal-close', '#71767b');
      document.documentElement.style.setProperty('--modal-close-hover', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--loader-color', '#1d9bf0');
    } else if (isDim) {
      // Dim theme variables
      document.documentElement.style.setProperty('--options-bg', '#15202b');
      document.documentElement.style.setProperty('--options-border', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-shadow', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-text', '#f7f9f9');
      document.documentElement.style.setProperty('--options-hover', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--options-divider', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--modal-bg', '#15202b');
      document.documentElement.style.setProperty('--modal-border', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--modal-header-bg', '#15202b');
      document.documentElement.style.setProperty('--modal-close', '#8b98a5');
      document.documentElement.style.setProperty('--modal-close-hover', 'rgba(255, 255, 255, 0.1)');
      document.documentElement.style.setProperty('--loader-color', '#1d9bf0');
    } else {
      // Light theme variables (default)
      document.documentElement.style.setProperty('--options-bg', '#fff');
      document.documentElement.style.setProperty('--options-border', 'rgba(0, 0, 0, 0.1)');
      document.documentElement.style.setProperty('--options-shadow', 'rgba(0, 0, 0, 0.15)');
      document.documentElement.style.setProperty('--options-text', '#0f1419');
      document.documentElement.style.setProperty('--options-hover', 'rgba(0, 0, 0, 0.05)');
      document.documentElement.style.setProperty('--options-divider', 'rgba(0, 0, 0, 0.1)');
      document.documentElement.style.setProperty('--modal-bg', '#fff');
      document.documentElement.style.setProperty('--modal-border', 'rgba(0, 0, 0, 0.1)');
      document.documentElement.style.setProperty('--modal-header-bg', '#fff');
      document.documentElement.style.setProperty('--modal-close', '#536471');
      document.documentElement.style.setProperty('--modal-close-hover', 'rgba(0, 0, 0, 0.05)');
      document.documentElement.style.setProperty('--loader-color', '#1d9bf0');
    }
  }
  
  // Initialize theme variables
  updateThemeVariables();
  
  // Watch for theme changes (if you have a theme toggle elsewhere)
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.attributeName === 'class') {
        updateThemeVariables();
      }
    });
  });
  
  observer.observe(document.body, {
    attributes: true,
    attributeFilter: ['class']
  });
  
  // Update position on resize
  window.addEventListener('resize', function() {
    if (optionsVisible) {
      updateOptionsPosition();
    }
  });
});
</script>




<script>
  // Font size synchronization script
  (function() {
    // Function to apply font size from localStorage
    function applyFontSize() {
      const size = localStorage.getItem('font-size') || '1';
      document.body.style.fontSize = size + 'rem';
      
      // Add scaling to different elements if needed
      const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
      const paragraphs = document.querySelectorAll('p');
      const buttons = document.querySelectorAll('button');
      const inputs = document.querySelectorAll('input');
      
      headings.forEach(heading => {
        const currentSize = window.getComputedStyle(heading).fontSize;
        const baseSize = parseFloat(currentSize) / 16; // convert to rem
        heading.style.fontSize = (baseSize * parseFloat(size)) + 'rem';
      });
      
      paragraphs.forEach(p => {
        p.style.fontSize = size + 'rem';
      });
      
      buttons.forEach(button => {
        button.style.fontSize = (parseFloat(size) * 0.9) + 'rem';
      });
      
      inputs.forEach(input => {
        input.style.fontSize = size + 'rem';
      });
    }
    
    // Apply immediately
    applyFontSize();
    
    // Listen for changes
    window.addEventListener('storage', function(event) {
      if (event.key === 'font-size') {
        applyFontSize();
      }
    });
    
    // Check every second for changes (backup method)
    setInterval(function() {
      const currentSize = document.body.style.fontSize;
      const savedSize = localStorage.getItem('font-size') || '1';
      
      if (currentSize !== savedSize + 'rem') {
        applyFontSize();
      }
    }, 1000);
  })();
</script>
<script>
  (function() {
  // Wait for DOM to be fully loaded
  document.addEventListener('DOMContentLoaded', function() {
    // Get the logo element
    const logo = document.getElementById('home-logo');
    if (!logo) return;
    
    // Variables to track drag state
    let isDragging = false;
    let startX, startY;
    
    // Function to handle navigation
    function navigateToHome() {
      if (!isDragging) { // Only navigate if not dragging
        window.location.href = 'half.html';
      }
    }
    
    // Click handler
    logo.addEventListener('click', navigateToHome);
    
    // Touch start handler
    logo.addEventListener('touchstart', function(e) {
      isDragging = false;
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    }, { passive: true });
    
    // Touch move handler - detect if dragging
    logo.addEventListener('touchmove', function(e) {
      if (!startX || !startY) return;
      
      const diffX = Math.abs(e.touches[0].clientX - startX);
      const diffY = Math.abs(e.touches[0].clientY - startY);
      
      // Consider it dragging if moved more than 10px in any direction
      if (diffX > 10 || diffY > 10) {
        isDragging = true;
      }
    }, { passive: true });
    
    // Touch end handler
    logo.addEventListener('touchend', function(e) {
      if (!isDragging) {
        navigateToHome();
      }
      isDragging = false;
      startX = startY = null;
    }, { passive: true });
    
    // Mouse down handler
    logo.addEventListener('mousedown', function(e) {
      isDragging = false;
      startX = e.clientX;
      startY = e.clientY;
    });
    
    // Mouse move handler - detect if dragging
    logo.addEventListener('mousemove', function(e) {
      if (!startX || !startY) return;
      
      const diffX = Math.abs(e.clientX - startX);
      const diffY = Math.abs(e.clientY - startY);
      
      // Consider it dragging if moved more than 5px in any direction
      if (diffX > 5 || diffY > 5) {
        isDragging = true;
      }
    });
    
    // Mouse up handler
    logo.addEventListener('mouseup', function(e) {
      if (!isDragging) {
        navigateToHome();
      }
      isDragging = false;
      startX = startY = null;
    });
    
    // Make logo draggable as a link
    logo.setAttribute('draggable', 'true');
    
    // Drag start handler - create a drag image with the URL
    logo.addEventListener('dragstart', function(e) {
      const fullUrl = window.location.origin + '/half.html';
      e.dataTransfer.setData('text/uri-list', fullUrl);
      e.dataTransfer.setData('text/plain', fullUrl);
      
      // Create a drag image (optional)
      const dragImg = new Image();
      dragImg.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="%235A9BD5"/><text x="24" y="32" font-family="Arial" font-size="24" text-anchor="middle" fill="white">N</text></svg>';
      e.dataTransfer.setDragImage(dragImg, 0, 0);
    });
    
    // Prevent conflict with other drag operations
    logo.addEventListener('dragend', function() {
      isDragging = false;
    });
  });
})();
</script>
<script>
  (function() {
    // RelHalf Theme Integration - Final Version
    const RelHalfThemeIntegrator = {
      // Style element ID
      styleElementId: 'relhalf-theme-integrator-styles',
      
      // Initialize integration
      initialize: function() {
        this.createStyleElement();
        this.applyCurrentTheme();
        this.setupEventListeners();
        console.log('RelHalf Theme Integrator initialized');
      },
      
      // Create dedicated style element
      createStyleElement: function() {
        const existingStyle = document.getElementById(this.styleElementId);
        if (existingStyle) {
          existingStyle.remove();
        }
        
        const styleElement = document.createElement('style');
        styleElement.id = this.styleElementId;
        styleElement.setAttribute('data-origin', 'relhalf-theme-integrator');
        document.head.appendChild(styleElement);
      },
      
      // Apply current theme from localStorage
      applyCurrentTheme: function() {
        const themeName = localStorage.getItem('twitter-theme') || 'light';
        this.applyTheme(themeName);
      },
      
      // Apply specified theme with careful logo handling
      applyTheme: function(themeName) {
        // Default to light theme if invalid theme name
        const validThemes = ['light', 'dim', 'dark'];
        const theme = validThemes.includes(themeName) ? themeName : 'light';
        
        // Get style element
        const styleElement = document.getElementById(this.styleElementId);
        if (!styleElement) {
          this.createStyleElement();
          return this.applyTheme(theme); // Retry after creating style element
        }
        
        // Theme-specific CSS with careful logo handling
        const themeCSS = {
          light: `
            /* Light theme - original styling */
            body { background-color: #ffffff; color: #0f1419; }
            .sidebar { border-right-color: #eff3f4; }
            .content { border-right-color: #eff3f4; }
            .menu-item { color: #0f1419; }
            .menu-item:hover { background-color: rgba(128, 128, 128, 0.1); }
            .menu-item.active { color: #4d4d4d; font-weight: 700; }
            
            /* Original black post button */
            .post-btn { 
              background: linear-gradient(135deg, #0f0f0f 0%, #1c1c1c 15%, #3a3a3a 30%, #4d4d4d 45%, #626262 60%, #787878 75%, #8f8f8f 90%, #a6a6a6 100%);
              color: white;
            }
            
            /* Ensure SVGs stay visible */
            .menu-item svg,
            .menu-item.active svg {
              color: currentColor;
              fill: currentColor;
            }
          `,
          dim: `
            /* Dim theme - modified for visibility */
            body { background-color: #15202b; color: #f7f9f9; }
            .sidebar { border-right-color: #38444d; }
            .content { border-right-color: #38444d; }
            .menu-item { color: #f7f9f9; }
            .menu-item:hover { background-color: rgba(255, 255, 255, 0.1); }
            .menu-item.active { color: #a6a6a6; font-weight: 700; }
            
            /* White post button for dim theme */
            .post-btn { 
              background: linear-gradient(135deg, #ffffff 0%, #e6e6e6 15%, #cccccc 30%, #b3b3b3 45%, #999999 60%, #808080 75%, #666666 90%, #4d4d4d 100%);
              color: black;
            }
            
            /* White gradient border for logo in dim theme */
            .logo::before {
              background: linear-gradient(135deg, #ffffff 0%, #e6e6e6 15%, #cccccc 30%, #b3b3b3 45%, #999999 60%, #808080 75%, #666666 90%, #4d4d4d 100%) !important;
            }
            
            /* Ensure SVGs stay bright */
            .menu-item svg,
            .menu-item.active svg {
              color: #f7f9f9 !important;
              fill: #f7f9f9 !important;
            }
          `,
          dark: `
            /* Dark theme - modified for visibility */
            body { background-color: #000000; color: #ffffff; }
            .sidebar { border-right-color: #2f3336; }
            .content { border-right-color: #2f3336; }
            .menu-item { color: #ffffff; }
            .menu-item:hover { background-color: rgba(255, 255, 255, 0.1); }
            .menu-item.active { color: #a6a6a6; font-weight: 700; }
            
            /* White post button for dark theme */
            .post-btn { 
              background: linear-gradient(135deg, #ffffff 0%, #e6e6e6 15%, #cccccc 30%, #b3b3b3 45%, #999999 60%, #808080 75%, #666666 90%, #4d4d4d 100%);
              color: black;
            }
            
            /* White gradient border for logo in dark theme */
            .logo::before {
              background: linear-gradient(135deg, #ffffff 0%, #e6e6e6 15%, #cccccc 30%, #b3b3b3 45%, #999999 60%, #808080 75%, #666666 90%, #4d4d4d 100%) !important;
            }
            
            /* Ensure SVGs stay bright */
            .menu-item svg,
            .menu-item.active svg {
              color: #ffffff !important;
              fill: #ffffff !important;
            }
          `
        };
        
        // Set the CSS content
        styleElement.textContent = themeCSS[theme];
        
        // Update body class for theme
        document.body.className = theme;
        
        console.log('RelHalf Theme Integrator: Applied theme', theme);
      },
      
      // Set up event listeners
      setupEventListeners: function() {
        // Listen for localStorage changes (theme)
        window.addEventListener('storage', (e) => {
          if (e.key === 'twitter-theme') {
            this.applyTheme(e.newValue || 'light');
          }
        });
        
        // Listen for custom events from GlobalChatThemeManager
        window.addEventListener('themeChanged', (e) => {
          if (e.detail && e.detail.theme) {
            this.applyTheme(e.detail.theme);
          }
        });
      }
    };
    
    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        RelHalfThemeIntegrator.initialize();
      });
    } else {
      RelHalfThemeIntegrator.initialize();
    }
  })();
</script>
</body>
</html>
